<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>동물 성격 테스트</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.15/dist/tailwind.min.css"
    />
    <style>
      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
      }

      .question {
        max-width: 800px;
        display: none;
      }

      .active {
        display: block;
      }

      .choice {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
        padding: 1rem;
        border: 2px solid #e2e8f0;
        border-radius: 0.25rem;
        cursor: pointer;
      }

      .choice:hover {
        background-color: #f1f5f9;
      }

      .btn-next {
        display: none;
      }

      .btn-result {
        display: none;
      }

      @media (max-width: 640px) {
        .container {
          padding: 1rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div id="question-1" class="question active">
        <h2 class="text-2xl font-bold mb-4">
          소중한 보물을 찾기 위해 수많은 방들이 있는 성을 탐험하게 됐다. 당신이
          가장 먼저 방문할 방은?
        </h2>
        <div class="choice" onclick="selectChoice(1, '0,0,3,2,0,0')">
          책과 고요함이 가득한 독서실
        </div>
        <div class="choice" onclick="selectChoice(1, '3,3,0,0,0,0')">
          도전적이고 흥미로운 퍼즐이 가득한 방
        </div>
        <div class="choice" onclick="selectChoice(1, '0,0,0,0,2,2')">
          사람들이 모여 대화하는 넓은 연회장
        </div>
      </div>

      <div id="question-2" class="question">
        <h2 class="text-2xl font-bold mb-4">
          당신이 마법사라면, 선호하는 애완 동물은 무엇인가요?
        </h2>
        <div class="choice" onclick="selectChoice(2, '0,0,2,2,0,0')">
          차분하고 상냥한 유니콘
        </div>
        <div class="choice" onclick="selectChoice(2, '3,2,0,0,0,0')">
          용감하고 강인한 그리핀
        </div>
        <div class="choice" onclick="selectChoice(2, '0,0,0,0,3,2')">
          사람을 잘 따르는 온순한 용
        </div>
      </div>

      <div id="question-3" class="question">
        <h2 class="text-2xl font-bold mb-4">
          전설 속의 마을을 지키기 위해 선택할 마법은?
        </h2>
        <div class="choice" onclick="selectChoice(3, '0,0,3,2,0,0')">
          생명을 회복시키는 힐링 마법
        </div>
        <div class="choice" onclick="selectChoice(3, '3,2,0,0,0,0')">
          강력하고 공격적인 불의 마법
        </div>
        <div class="choice" onclick="selectChoice(3, '0,0,0,0,3,2')">
          다른 사람을 보호하는 방패 마법
        </div>
      </div>

      <div id="question-4" class="question">
        <h2 class="text-2xl font-bold mb-4">
          요정 왕국의 왕이 되었다. 왕국의 법을 만든다면?
        </h2>
        <div class="choice" onclick="selectChoice(4, '2,3,0,0,0,0')">
          성실하고 강한 정신력을 지닌 이들에게 특별한 권리를 부여
        </div>
        <div class="choice" onclick="selectChoice(4, '0,0,3,2,0,0')">
          왕국 내 모든 이들이 편안하고 행복하게 살 수 있도록 하기
        </div>
        <div class="choice" onclick="selectChoice(4, '0,0,0,0,3,2')">
          모든 이들이 의견을 자유롭게 나누고, 공동체를 이루도록 하기
        </div>
      </div>

      <div id="question-5" class="question">
        <h2 class="text-2xl font-bold mb-4">
          마법의 숲에서 당신이 만난 동물은?
        </h2>
        <div class="choice" onclick="selectChoice(5, '0,0,2,2,0,0')">
          차분하고 상냥한 화이트 토끼
        </div>
        <div class="choice" onclick="selectChoice(5, '2,2,0,0,0,0')">
          빠르고 날렵한 레이스홀스
        </div>
        <div class="choice" onclick="selectChoice(5, '0,0,0,0,3,2')">
          장난스럽고 친근한 숲의 요정
        </div>
      </div>

      <div id="question-6" class="question">
        <h2 class="text-2xl font-bold mb-4">
          비밀 요원이 되어 세상을 구하는 꿈을 꾸는 당신, 귀하의 주말 계획은?
        </h2>
        <div class="choice" onclick="selectChoice(6, '0,0,3,2,0,0')">
          전략을 짜며 귀가의 안전한 공간에서 휴식을 취한다
        </div>
        <div class="choice" onclick="selectChoice(6, '3,2,0,0,0,0')">
          정글을 누비며 모험을 즐긴다
        </div>
        <div class="choice" onclick="selectChoice(6, '0,0,0,0,2,2')">
          마피아 파티에서 아군을 모으는 시간을 갖는다
        </div>
      </div>

      <div id="question-7" class="question">
        <h2 class="text-2xl font-bold mb-4">
          주어진 미션, 당신의 접근 방식은?
        </h2>
        <div class="choice" onclick="selectChoice(7, '3,2,0,0,0,0')">
          혼자서 전략을 세우고 행동한다
        </div>
        <div class="choice" onclick="selectChoice(7, '0,0,2,3,0,0')">
          팀원들과 머리를 맞대고, 작전을 짠다
        </div>
        <div class="choice" onclick="selectChoice(7, '0,0,0,0,3,2')">
          기존에 없었던 독특한 방식으로 접근한다
        </div>
      </div>

      <div id="question-8" class="question">
        <h2 class="text-2xl font-bold mb-4">
          위기 상황! 레이저가 몸을 향해 날아오고 있다. 반응은?
        </h2>
        <div class="choice" onclick="selectChoice(8, '2,3,0,0,0,0')">
          즉시 반응하여 위기를 모면한다
        </div>
        <div class="choice" onclick="selectChoice(8, '0,0,2,3,0,0')">
          차분하게 생각하고, 레이저를 피하는 최선의 방법을 찾는다
        </div>
        <div class="choice" onclick="selectChoice(8, '0,0,0,0,2,3')">
          다른 요원들과 협력하여 위기를 극복한다
        </div>
      </div>

      <div id="question-9" class="question">
        <h2 class="text-2xl font-bold mb-4">
          의사 결정의 순간, 당신의 선택은?
        </h2>
        <div class="choice" onclick="selectChoice(9, '3,2,0,0,0,0')">
          직관적으로 결정, 시간은 금이다!
        </div>
        <div class="choice" onclick="selectChoice(9, '0,0,0,0,3,3')">
          팀원들의 의견을 듣고, 공동의 선택을 한다
        </div>
        <div class="choice" onclick="selectChoice(9, '0,0,2,2,0,0')">
          조금 더 생각해보고, 최선의 선택을 한다
        </div>
      </div>

      <div id="question-10" class="question">
        <h2 class="text-2xl font-bold mb-4">
          요원으로서 당신이 가장 중요하게 생각하는 것은 무엇인가요?
        </h2>
        <div class="choice" onclick="selectChoice(10, '2,3,0,0,0,0')">
          목표를 달성하고, 성공하는 것이 가장 중요하다
        </div>
        <div class="choice" onclick="selectChoice(10, '0,0,0,2,3,0')">
          팀원들과의 동료애, 함께하는 힘이 가장 중요하다
        </div>
        <div class="choice" onclick="selectChoice(10, '0,0,3,0,0,2')">
          안전과 편안함, 이 둘은 무엇보다 중요하다
        </div>
      </div>
    </div>

    <script>
      let currentQuestion = 1;
      let animalScores = [0, 0, 0, 0, 0, 0];
      const animals = ["호랑이", "독수리", "코알라", "기린", "펭귄", "강아지"];

      function selectChoice(questionNumber, scores) {
        const scoresArr = scores.split(",").map(Number);
        for (let i = 0; i < scoresArr.length; i++) {
          animalScores[i] += scoresArr[i];
        }

        console.log("animalScores", animalScores);

        const currentQuestionElement = document.getElementById(
          `question-${questionNumber}`
        );
        currentQuestionElement.classList.remove("active");
        currentQuestionElement.style.display = "none";

        const nextQuestionElement = document.getElementById(
          `question-${questionNumber + 1}`
        );
        if (nextQuestionElement) {
          nextQuestionElement.classList.add("active");
          nextQuestionElement.style.display = "block";
        } else {
          showResult();
        }
      }

      function showResult() {
        const resultIndex = animalScores.indexOf(Math.max(...animalScores));

        // Redirect to result.html
        window.location.href = `result.html?animal=${animals[resultIndex]}`;
      }
    </script>
  </body>
</html>
